<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ItalianModerationsBOT — Moderazione & Sicurezza</title>
  <meta name="description" content="ItalianModerationsBOT — strumenti di moderazione per server Discord in italiano. Embed UX, moderazione automatica e report." />

  <link rel="icon" href="imb.ico" type="image/x-icon" />

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
  /* =======================================================
     ItalianModerationsBOT - Single-file CSS
     - Design blu/azzurro coerente con Aura
     - Responsive, accessibile, difensivo contro errori
     - Commenti per ogni sezione per facilitare modifica
     ======================================================= */

  /* -------------------- :root variables -------------------- */
  :root{
    --bg-grad-start: #4DA6FF;
    --bg-grad-end:   #1A75FF;
    --glass-weak: rgba(255,255,255,0.12);
    --glass-medium: rgba(255,255,255,0.18);
    --glass-strong: rgba(255,255,255,0.26);
    --text: #FFFFFF;
    --muted: rgba(255,255,255,0.9);
    --muted-2: rgba(255,255,255,0.75);
    --accent: #003f8a;
    --card-radius: 16px;
    --shadow: 0 12px 30px rgba(3,17,77,0.18);
    --max-width: 1200px;
    --gap: 20px;
    --pad: 20px;
    --focus-ring: 3px solid rgba(0,68,204,0.16);
    --ui-size: 44px;
  }

  /* -------------------- Reset & Base -------------------- */
  *, *::before, *::after { box-sizing: border-box; }
  html, body { height: 100%; }
  body{
    margin: 0;
    font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(135deg, var(--bg-grad-start), var(--bg-grad-end));
    color: var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height: 1.45;
    -webkit-tap-highlight-color: transparent;
  }

  /* -------------------- Container -------------------- */
  .container {
    width: 100%;
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 0 20px;
  }

  /* -------------------- Header / Navbar -------------------- */
  header.main-header {
    position: sticky;
    top: 0;
    z-index: 1500;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 12px 20px;
    background: linear-gradient(180deg, rgba(0,68,204,0.08), rgba(0,68,204,0.04));
    backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(255,255,255,0.03);
  }
  .brand {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .brand .logo {
    width: 48px;
    height: 48px;
    display: block;
    border-radius: 10px;
    overflow: hidden;
    flex-shrink: 0;
  }
  .brand .logo img { width:100%; height:100%; object-fit:cover; display:block; }
  .brand .titles { display:flex; flex-direction:column; line-height:1; }
  .brand .titles .title { font-weight:700; font-size:1rem; color:var(--text); }
  .brand .titles .sub { font-size:0.78rem; color:var(--muted-2); margin-top:2px; }

  /* menu button (hamburger) */
  .menu-btn {
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    background: none;
    border: 0;
    color: var(--text);
    cursor: pointer;
    padding: 8px;
    border-radius: 8px;
  }
  .menu-btn:focus { outline: none; box-shadow: var(--focus-ring); }
  .menu-btn .hamb {
    width:36px;
    height:26px;
    position:relative;
    display:inline-block;
  }
  .menu-btn .hamb span {
    position:absolute; left:0; right:0; height:3px; background:var(--text); border-radius:4px; transition: all .22s ease;
  }
  .menu-btn .hamb span:nth-child(1){ top:0; }
  .menu-btn .hamb span:nth-child(2){ top:11px; }
  .menu-btn .hamb span:nth-child(3){ top:22px; }

  /* -------------------- Sidebar (mobile) -------------------- */
  nav.sidebar {
    position: fixed;
    top: 0;
    right: -120%;
    width: 78%;
    max-width: 420px;
    height: 100vh;
    padding: 28px 20px;
    z-index: 1600;
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    backdrop-filter: blur(12px);
    box-shadow: -18px 0 60px rgba(0,0,0,0.35);
    border-left: 1px solid rgba(255,255,255,0.03);
    transition: right .36s cubic-bezier(.2,.9,.2,1);
    display:flex;
    flex-direction:column;
  }
  nav.sidebar.open { right: 0; }
  .sidebar .close-menu {
    align-self: flex-end;
    background:none; border:0; color:var(--text); font-size:30px; cursor:pointer;
  }
  .sidebar .profile {
    display:flex;
    gap:12px;
    align-items:center;
    margin-top:6px;
  }
  .sidebar .profile img {
    width:48px; height:48px; border-radius:10px; object-fit:cover;
  }
  .sidebar .profile .text { display:flex; flex-direction:column; }
  .sidebar .profile .text .name { font-weight:700; color:var(--text); }
  .sidebar .profile .text .desc { font-size:12px; color:var(--muted-2); margin-top:2px; }

  .sidebar .nav-list { margin-top:16px; display:flex; flex-direction:column; gap:8px; padding-top:6px; }
  .sidebar .nav-list a {
    display:flex; align-items:center; gap:12px; padding:10px 8px; border-radius:12px;
    text-decoration:none; color:var(--text); font-weight:600; transition: background .12s, transform .12s;
  }
  .sidebar .nav-list a img { width:22px; height:22px; object-fit:contain; }
  .sidebar .nav-list a:hover, .sidebar .nav-list a:focus { background: rgba(255,255,255,0.04); transform: translateX(-4px); outline:none; }

  /* -------------------- Overlay -------------------- */
  .overlay {
    position: fixed;
    inset: 0;
    background: rgba(2,10,50,0.45);
    opacity: 0;
    visibility: hidden;
    transition: opacity .25s ease;
    z-index: 1550;
  }
  .overlay.open { opacity: 1; visibility: visible; }

  /* -------------------- Main / Hero -------------------- */
  main { padding-top: 24px; }
  section.hero {
    padding: 56px 0;
    text-align:center;
  }
  .hero .eyebrow {
    display:inline-block;
    background: rgba(255,255,255,0.06);
    padding:6px 12px;
    border-radius:999px;
    font-weight:700;
    color:var(--text);
    margin-bottom: 18px;
  }
  .hero h1 {
    font-size: 2.6rem;
    margin: 0 auto 16px;
    max-width: 960px;
    font-weight: 800;
    line-height:1.02;
  }
  .hero p.lead {
    margin:0 auto 22px;
    max-width: 760px;
    color: var(--muted-2);
    font-size:1.02rem;
  }
  .hero .ctas { display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:6px; }
  .btn {
    display:inline-flex; align-items:center; gap:10px; padding:12px 18px; border-radius:28px;
    text-decoration:none; font-weight:700; cursor:pointer; transition: transform .12s ease, box-shadow .12s;
    border:2px solid transparent;
  }
  .btn:focus{ outline:none; box-shadow: var(--focus-ring); }
  .btn.primary { background: #fff; color: var(--accent); }
  .btn.secondary { background: transparent; color: var(--text); border-color: rgba(255,255,255,0.12); }
  .btn.ghost { background: rgba(255,255,255,0.04); color: var(--text); }
  .btn:hover { transform: translateY(-4px); }

  /* -------------------- Two columns / Why -------------------- */
  .two-columns {
    display:flex; flex-direction:column; gap:var(--gap); align-items:center; padding: 0 0 8px 0;
  }
  .two-columns .content { text-align:center; max-width:640px; }
  .two-columns .media { width:100%; max-width:420px; display:flex; justify-content:center; }
  .two-columns img.preview { width:100%; height:auto; border-radius:12px; box-shadow: var(--shadow); display:block; }

  .two-columns h2 { font-size:1.6rem; margin-bottom:8px; font-weight:800; }
  .two-columns p { color:var(--muted-2); margin-bottom:8px; }

  /* -------------------- Cards grid / Services -------------------- */
  .card-grid {
    display:grid;
    grid-template-columns: 1fr;
    gap: 22px;
    padding: 20px 0 0 0;
  }
  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
    border-radius: var(--card-radius);
    padding: 18px;
    box-shadow: var(--shadow);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .card:hover { transform: translateY(-6px); box-shadow: 0 20px 50px rgba(3,17,77,0.22); }
  .card .icon-wrap { width:110px; height:110px; border-radius:12px; overflow:hidden; background: rgba(255,255,255,0.04); display:flex; align-items:center; justify-content:center; }
  .card .icon-wrap img { width:88px; height:88px; object-fit:contain; display:block; }
  .card h3 { margin:0; font-size:1.1rem; font-weight:700; color:var(--text); }
  .card p { margin:0; color:var(--muted-2); font-size:0.95rem; text-align:center; }

  /* responsive iframe wrapper */
  .video-wrap { width:100%; display:flex; justify-content:center; margin-top:12px; }
  .video-wrap iframe { width:100%; max-width:860px; height:480px; border-radius:12px; border:0; }

  /* -------------------- Widget (Embed UX block) -------------------- */
  .widget {
    background: rgba(255,255,255,0.14);
    border-radius: 16px;
    padding: 22px;
    margin: 22px auto;
    max-width: 760px;
    box-shadow: var(--shadow);
    text-align:center;
  }
  .widget h2 { margin: 0 0 10px 0; font-size:1.6rem; }
  .widget p { color: var(--muted-2); margin: 0 0 12px 0; }
  .widget .widget-ctas { margin-top:12px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
  .widget .widget-ctas button { padding:10px 14px; border-radius:10px; border:0; cursor:pointer; font-weight:700; }
  .widget button.primary { background:#fff; color:var(--accent); }
  .widget button.secondary { background:transparent; color:var(--text); border:2px solid rgba(255,255,255,0.12); }

  /* -------------------- Footer -------------------- */
  footer.site-footer { padding: 36px 20px 64px; text-align:center; color:var(--muted-2); }
  .socials { display:flex; gap:12px; justify-content:center; margin:18px 0; }
  .socials a { display:inline-flex; align-items:center; justify-content:center; width:46px; height:46px; border-radius:10px; background: rgba(255,255,255,0.04); text-decoration:none; }
  .socials a img { width:24px; height:24px; display:block; object-fit:contain; }

  .footer-note { margin-top:10px; font-size:0.95rem; color:var(--muted-2); }

  /* -------------------- Responsive rules -------------------- */
  @media (min-width: 840px) {
    .hero h1 { font-size: 3rem; }
    .two-columns { flex-direction: row; align-items:center; text-align:left; }
    .two-columns .content { padding-right: 26px; }
    .two-columns .media { max-width:480px; }
    .card-grid { grid-template-columns: repeat(3, 1fr); }
    nav.sidebar { right: -42%; width: 360px; }
    .video-wrap iframe { height: 420px; }
  }

  @media (max-width: 767px) {
    .hero { padding: 40px 12px; }
    .widget { margin: 18px 12px; padding: 16px; }
    .video-wrap iframe { height: 240px; }
  }

  /* -------------------- Accessibility helpers -------------------- */
  .sr-only { position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
  a, button { touch-action: manipulation; -webkit-tap-highlight-color: transparent; }

  /* -------------------- Defensive CSS for broken images -------------------- */
  img[alt="missing"], img[src=""] { display: none !important; }

  /* -------------------- End of CSS -------------------- */
  </style>
</head>
<body>
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <nav id="sidebar" class="sidebar" aria-hidden="true" aria-label="Menu principale">
    <button id="closeMenu" class="close-menu" aria-label="Chiudi menu">&times;</button>

    <div class="profile" style="margin-top:8px;">
      <img src="imb_logo.png" alt="ItalianModerationsBOT logo" loading="lazy" width="48" height="48">
      <div class="text">
        <div class="name">ItalianModerationsBOT</div>
        <div class="desc">Moderazione &amp; Sicurezza</div>
      </div>
    </div>

    <div class="nav-list" role="menu" aria-label="Link navigazione">
      <a href="index.html" role="menuitem"><img src="home.png" alt="Home">Home</a>
      <a href="di_più.html" role="menuitem"><img src="info.png" alt="Info">Scopri di più</a>
      <a href="chi_siamo.html" role="menuitem"><img src="team.png" alt="Team">Chi siamo</a>
      <a href="contattaci.html" role="menuitem"><img src="contact.png" alt="Contattaci">Contattaci</a>
      <a href="https://discord.gg/tctmBsMnfk" role="menuitem"><img src="discord.png" alt="Discord">Unisciti al Discord</a>
      <a href="https://github.com" role="menuitem"><img src="home.png" alt="Repository GitHub">Repository GitHub</a>
    </div>

    <div style="margin-top:auto;font-size:13px;color:var(--muted-2)">
      <div>Made by Aura Studio Italia</div>
      <div style="font-size:12px;color:rgba(255,255,255,0.62)">Eboli • Conversano</div>
    </div>
  </nav>

  <header class="main-header container" role="banner">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <img src="imb_logo.png" alt="Logo ItalianModerationsBOT" loading="lazy" width="48" height="48">
      </div>
      <div class="titles" aria-hidden="true">
        <span class="title">ItalianModerationsBOT</span>
        <span class="sub">Moderazione &amp; Sicurezza</span>
      </div>
    </div>

    <div style="display:flex;align-items:center;gap:12px">
      <nav id="topLinks" aria-label="Link principali" style="display:none"></nav>

      <button id="openMenu" class="menu-btn" aria-expanded="false" aria-controls="sidebar" aria-label="Apri menu">
        <span class="hamb" aria-hidden="true">
          <span></span><span></span><span></span>
        </span>
      </button>
    </div>
  </header>

  <main role="main">

    <section class="hero container" aria-labelledby="hero-title">
      <div class="eyebrow">Tool &amp; Moderazione</div>
      <h1 id="hero-title">Benvenutə in <strong style="color:var(--text)">ItalianModerationsBOT</strong></h1>
      <p class="lead">Strumenti per moderazione automatica, embed personalizzati e report dettagliati per le community italiane su Discord. Facile da configurare, potente nella gestione.</p>

      <div class="ctas" role="group" aria-label="Azioni principali">
        <a class="btn primary" href="di_più.html">Scopri di più</a>
        <a class="btn secondary" href="chi_siamo.html">Chi siamo</a>
        <a class="btn ghost" href="contattaci.html">Contattaci</a>
      </div>
    </section>

    <section class="two-columns container" aria-labelledby="why-title">
      <div class="content" id="why-title">
        <h2>Perché <strong>ItalianModerationsBOT</strong></h2>
        <p>Offriamo una suite completa per la moderazione: filtri anti-spam/anti-link, gestione automatica dei permessi, embed e notifiche personalizzate, log e statistiche. Pensato per staff e moderatori italiani.</p>
        <ul style="list-style:none;padding-left:0;color:var(--muted-2);margin-top:12px">
          <li>• Installazione semplice e guide passo-passo</li>
          <li>• Embed personalizzabili per avvisi e regole</li>
          <li>• Logs completi per audit e report</li>
        </ul>
      </div>

      <div class="media">
        <img class="preview" src="imb_mod.png" alt="Anteprima moderazione" loading="lazy">
      </div>
    </section>

    <section class="container" aria-labelledby="services">
      <h2 id="services" style="text-align:center;margin-bottom:12px">I nostri servizi</h2>

      <div class="card-grid" role="list">
        <article class="card" role="listitem" aria-labelledby="srv1">
          <div class="icon-wrap" aria-hidden="true"><img src="imb_mod.png" alt="Moderazione" loading="lazy"></div>
          <h3 id="srv1">Moderazione Automatica</h3>
          <p>Filtri avanzati, blacklist, gestione permessi e azioni automatiche per mantenere la chat pulita e sicura.</p>
        </article>

        <article class="card" role="listitem" aria-labelledby="srv2">
          <div class="icon-wrap" aria-hidden="true"><img src="imb_report.png" alt="Reports" loading="lazy"></div>
          <h3 id="srv2">Logs e Report</h3>
          <p>Tracciamento completo delle attività, esportazione dei log e report per gli amministratori.</p>
        </article>

        <article class="card" role="listitem" aria-labelledby="srv3">
          <div class="icon-wrap" aria-hidden="true"><img src="imb_support.png" alt="Supporto" loading="lazy"></div>
          <h3 id="srv3">Supporto & Integrazioni</h3>
          <p>Supporto dedicato e integrazioni con strumenti esterni per automatizzare i processi.</p>
        </article>
      </div>
    </section>

    <section class="container" aria-labelledby="embed-ux" style="padding-bottom:56px;">
      <div style="max-width:1000px;margin:0 auto;text-align:center">
        <h2 id="embed-ux">Embed UX 2 — Anteprima</h2>
        <p style="color:var(--muted-2);margin-bottom:18px">Guarda la demo del nostro Embed UX.</p>

        <div class="widget" role="region" aria-label="Widget Embed UX demo">
          <h2>Embed UX 2: In arrivo</h2>
          <p>Embed UX è la nostra interfaccia embed semplice, personalizzabile e intuitiva.</p>
          <div class="video-wrap" aria-hidden="false">
            <iframe src="https://www.youtube.com/embed/JFh_376wmI4?si=x3ONU_fjqvApXZkU"
                    title="Embed UX demo"
                    loading="lazy"
                    referrerpolicy="strict-origin-when-cross-origin"
                    sandbox="allow-scripts allow-same-origin allow-presentation allow-popups"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
          </div>

          <div class="widget-ctas" style="margin-top:12px;">
            <button class="primary" onclick="location.href='di_più.html'">Scopri di più</button>
            <button class="secondary" onclick="location.href='chi_siamo.html'">Chi siamo</button>
            <button class="secondary" onclick="location.href='contattaci.html'">Contattaci</button>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container">
      <h3 style="margin:0;color:var(--text)">Seguici sui social</h3>
      <div class="socials" role="navigation" aria-label="Link ai social">
        <a href="https://discord.gg/tctmBsMnfk" aria-label="Discord"><img src="discord.png" alt="Discord" loading="lazy"></a>
        <a href="https://tiktok.com/@aurastudio.italia" aria-label="TikTok"><img src="tiktok.png" alt="TikTok" loading="lazy"></a>
        <a href="https://instagram.com/aurastudio.italia" aria-label="Instagram"><img src="instagram.png" alt="Instagram" loading="lazy"></a>
      </div>
      <p class="footer-note">ItalianModerationsBOT — Made by Aura Studio Italia • Eboli, Conversano</p>
    </div>
  </footer>

  <script>
  (function () {
    'use strict';

    /* -------------------- element references -------------------- */
    var openBtn = document.getElementById('openMenu');
    var sidebar = document.getElementById('sidebar');
    var overlay = document.getElementById('overlay');
    var closeBtn = document.getElementById('closeMenu');
    var topLinks = document.getElementById('topLinks');

    /* -------------------- small helper utilities -------------------- */
    function $(sel, ctx) { return (ctx || document).querySelector(sel); }
    function $all(sel, ctx) { return Array.prototype.slice.call((ctx || document).querySelectorAll(sel)); }
    function addClass(el, c) { if(el && !el.classList.contains(c)) el.classList.add(c); }
    function removeClass(el, c) { if(el && el.classList.contains(c)) el.classList.remove(c); }
    function hasClass(el, c) { return el && el.classList.contains(c); }

    /* -------------------- scroll lock implementation (FIXED per iOS) -------------------- */
    var scrollLock = {
      locked: false,
      lock: function () {
        if (this.locked) return;
        document.documentElement.style.overflow = 'hidden';
        document.body.style.overflow = 'hidden';
        this.locked = true;
      },
      unlock: function () {
        if (!this.locked) return;
        document.documentElement.style.overflow = '';
        document.body.style.overflow = '';
        this.locked = false;
      }
    };

    /* -------------------- focus trap inside sidebar -------------------- */
    function trapFocus(container) {
      var focusable = container.querySelectorAll('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])');
      focusable = Array.prototype.slice.call(focusable).filter(function(el){ return !el.hasAttribute('disabled'); });
      if (!focusable.length) return function () {};
      var first = focusable[0], last = focusable[focusable.length - 1];
      var handler = function (e) {
        if (e.key !== 'Tab') return;
        if (e.shiftKey && document.activeElement === first) {
          e.preventDefault(); last.focus();
        } else if (!e.shiftKey && document.activeElement === last) {
          e.preventDefault(); first.focus();
        }
      };
      document.addEventListener('keydown', handler);
      // return cleanup
      return function () { document.removeEventListener('keydown', handler); };
    }

    /* -------------------- open/close sidebar logic -------------------- */
    var cleanupFocusTrap = null;

    function openSidebar(e) {
      if (e) { e.preventDefault && e.preventDefault(); }
      addClass(sidebar, 'open');
      addClass(overlay, 'open');
      sidebar.setAttribute('aria-hidden', 'false');
      overlay.setAttribute('aria-hidden', 'false');
      openBtn.setAttribute('aria-expanded', 'true');
      scrollLock.lock();

      // focus first actionable item
      var first = sidebar.querySelector('a, button, [tabindex]:not([tabindex="-1"])');
      if (first) first.focus();

      // trap focus
      cleanupFocusTrap = trapFocus(sidebar);

      // keydown handler for ESC
      document.addEventListener('keydown', escHandler);
    }

    function closeSidebar(e) {
      if (e) { e.preventDefault && e.preventDefault(); }
      removeClass(sidebar, 'open');
      removeClass(overlay, 'open');
      sidebar.setAttribute('aria-hidden', 'true');
      overlay.setAttribute('aria-hidden', 'true');
      openBtn.setAttribute('aria-expanded', 'false');
      try { scrollLock.unlock(); } catch (err) { /* defensive */ }
      if (cleanupFocusTrap) { cleanupFocusTrap(); cleanupFocusTrap = null; }
      document.removeEventListener('keydown', escHandler);
      setTimeout(function(){ openBtn.focus(); }, 50);
    }

    function escHandler(e) {
      if (!e) return;
      if (e.key === 'Escape' || e.key === 'Esc') {
        closeSidebar();
      }
    }

    /* -------------------- defensive event bindings -------------------- */
    try {
      if (openBtn) {
        openBtn.addEventListener('click', openSidebar);
        openBtn.addEventListener('keydown', function (evt) {
          if (evt.key === 'Enter' || evt.key === ' ') { evt.preventDefault(); openSidebar(); }
        });
      }
      if (closeBtn) {
        closeBtn.addEventListener('click', closeSidebar);
      }
      if (overlay) {
        overlay.addEventListener('click', closeSidebar);
      }
      // close when any link inside sidebar is clicked (good UX)
      var linksInSidebar = sidebar ? sidebar.querySelectorAll('a') : [];
      Array.prototype.forEach.call(linksInSidebar, function (lnk) {
        lnk.addEventListener('click', function () { closeSidebar(); });
      });
    } catch (err) {
      console.error('Sidebar event bind error', err);
    }

    /* -------------------- progressive enhancement: top links on wide screens -------------------- */
    function renderTopLinks() {
      try {
        if (!topLinks) return;
        if (window.innerWidth >= 840) {
          topLinks.style.display = 'block';
          topLinks.innerHTML = ''
            + '<a class="btn ghost" href="di_più.html" style="margin-right:10px">Scopri</a>'
            + '<a class="btn ghost" href="chi_siamo.html" style="margin-right:10px">Chi siamo</a>'
            + '<a class="btn ghost" href="contattaci.html">Contattaci</a>';
        } else {
          topLinks.style.display = 'none';
          topLinks.innerHTML = '';
        }
      } catch (err) {
        // non blocking
        console.error('renderTopLinks error', err);
      }
    }
    window.addEventListener('resize', renderTopLinks);
    document.addEventListener('DOMContentLoaded', renderTopLinks);

    /* -------------------- Disable broken images (defensive) -------------------- */
    function hideBrokenImages() {
      try {
        var imgs = document.querySelectorAll('img');
        Array.prototype.forEach.call(imgs, function (img) {
          img.addEventListener('error', function () {
            // hide broken image to prevent layout jump
            try { this.style.display = 'none'; } catch (e) { /* ignore */ }
          });
        });
      } catch (err) { console.error('hideBrokenImages', err); }
    }
    document.addEventListener('DOMContentLoaded', hideBrokenImages);

    /* -------------------- Keyboard accessibility enhancement for CTAs -------------------- */
    function enhanceButtons() {
      try {
        var ct = document.querySelectorAll('.btn, button');
        Array.prototype.forEach.call(ct, function (b) {
          b.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') { e.preventDefault(); this.click(); }
          });
        });
      } catch (err) { console.error('enhanceButtons', err); }
    }
    document.addEventListener('DOMContentLoaded', enhanceButtons);

    /* -------------------- small UX: lazy-load iframe on interaction (reduces initial load) -------------------- */
    function lazyLoadIframe() {
      var ifr = document.querySelector('.video-wrap iframe');
      if (!ifr) return;
      // already loaded by default with loading="lazy" attribute; we provide fallback if needed
      // no-op because we used loading="lazy" in markup
    }
    document.addEventListener('DOMContentLoaded', lazyLoadIframe);

    /* -------------------- safety guard: wrap heavy init in try/catch -------------------- */
    try {
      // any additional initialization can go here
    } catch (err) {
      console.error('Initialization error', err);
    }

    /* Expose for debugging (in case you want to call openSidebar from console) */
    window.__IMB = window.__IMB || {};
    window.__IMB.openSidebar = openSidebar;
    window.__IMB.closeSidebar = closeSidebar;

  })();
  </script>

  </body>
</html>
